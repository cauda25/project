<!DOCTYPE html>
<html lang="en" layout:decorate="~{/layouts/layout}">
  <div layout:fragment="content">
    <section class="edit-form spad">
      <div
        class="container"
        style="
          max-width: 600px;
          margin: 0 auto;
          background-color: #222;
          padding: 20px;
          border-radius: 10px;
        "
      >
        <h3
          style="
            color: white;
            text-align: center;
            margin-bottom: 20px;
            font-size: 24px;
          "
        >
          회원정보 수정
        </h3>
        <form
          th:action="@{/member/edit}"
          method="post"
          th:object="${member}"
          style="display: flex; flex-direction: column; gap: 15px"
          onsubmit="return validatePasswords()"
        >
          <!-- 아이디 -->
          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 5px;
              color: #ddd;
              font-size: 14px;
            "
          >
            <label for="memberId">아이디</label>
            <input
              type="text"
              id="memberId"
              th:field="*{memberId}"
              readonly
              style="
                background-color: #333;
                color: #fff;
                padding: 10px;
                border: none;
                border-radius: 5px;
              "
            />
          </div>

          <!-- 이름 -->
          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 5px;
              color: #ddd;
              font-size: 14px;
            "
          >
            <label for="name">이름</label>
            <input
              type="text"
              id="name"
              th:field="*{name}"
              readonly
              style="
                background-color: #333;
                color: #fff;
                padding: 10px;
                border: none;
                border-radius: 5px;
              "
            />
          </div>

          <!-- 새 비밀번호 -->
          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 5px;
              color: #ddd;
              font-size: 14px;
            "
          >
            <label for="password">새 비밀번호</label>
            <input
              type="password"
              id="password"
              name="password"
              placeholder="새 비밀번호 입력"
              style="
                background-color: #333;
                color: #fff;
                padding: 10px;
                border: none;
                border-radius: 5px;
              "
            />
          </div>

          <!-- 새 비밀번호 확인 -->
          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 5px;
              color: #ddd;
              font-size: 14px;
            "
          >
            <label for="passwordConfirm">새 비밀번호 확인</label>
            <input
              type="password"
              id="passwordConfirm"
              placeholder="새 비밀번호 확인 입력"
              style="
                background-color: #333;
                color: #fff;
                padding: 10px;
                border: none;
                border-radius: 5px;
              "
            />
            <span id="passwordError" style="color: red; font-size: 12px"></span>
          </div>

          <!-- 이메일 -->
          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 5px;
              color: #ddd;
              font-size: 14px;
            "
          >
            <label for="email">이메일</label>
            <input
              type="email"
              id="email"
              th:field="*{email}"
              required
              style="
                background-color: #333;
                color: #fff;
                padding: 10px;
                border: none;
                border-radius: 5px;
              "
            />
          </div>

          <!-- 휴대전화 -->
          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 5px;
              color: #ddd;
              font-size: 14px;
            "
          >
            <label for="phone">휴대전화</label>
            <input
              type="text"
              id="phone"
              th:field="*{phone}"
              required
              style="
                background-color: #333;
                color: #fff;
                padding: 10px;
                border: none;
                border-radius: 5px;
              "
            />
          </div>

          <!-- 주소 -->
          <div
            style="
              display: flex;
              flex-direction: column;
              gap: 5px;
              color: #ddd;
              font-size: 14px;
            "
          >
            <label for="address">주소</label>
            <input
              type="text"
              id="address"
              th:field="*{address}"
              required
              style="
                background-color: #333;
                color: #fff;
                padding: 10px;
                border: none;
                border-radius: 5px;
              "
            />
          </div>

          <div style="text-align: center; margin-top: 20px">
            <button
              type="submit"
              style="
                background-color: #ff4c4c;
                color: #fff;
                border: none;
                border-radius: 5px;
                padding: 10px 20px;
                font-size: 16px;
                cursor: pointer;
              "
            >
              수정하기
            </button>
          </div>
        </form>
      </div>
    </section>
  </div>

  <th:block layout:fragment="js">
    <script>
      function validatePasswords() {
        const password = document.getElementById("password").value;
        const passwordConfirm =
          document.getElementById("passwordConfirm").value;
        const errorSpan = document.getElementById("passwordError");

        if (password && password !== passwordConfirm) {
          errorSpan.textContent = "비밀번호가 일치하지 않습니다.";
          return false;
        }
        errorSpan.textContent = "";
        return true;
      }
    </script>
  </th:block>
</html>
